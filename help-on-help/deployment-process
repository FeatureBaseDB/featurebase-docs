# FeatureBase-docs deployment process

Deploying changes to production involves a *Staging* step where changes are tested then approved, followed by an explicit approval process before pushing to production.

## Deployment dependencies

* `main` branch -- the equivalent of "staging"
* `gh-pages` -- the equivalent of "production"
* Both PRs should include reviewers @gregthrone and/or @ljsinclair (as of 2023-02-17)
* Github Action settings found in `/.github/workflows`

## Workflow 1 - changes merged to `main` (staging)

This process works as usual and is summarised below:

* Changes made in branch
* Test on local build of branch
* Visual check on changed content to make sure nothing broken
* Run broken link check on local build and fix broken **internal** links
* Pull Request to compare **main** with **branch**.
* Approvals process with changes
* Merge to **main**

## Workflow 2 - test staging and push to `gh-pages` (production)

* Checkout **main** and pull changes to be sure
* Test on local build of branch
* Visual check on changed content to make sure nothing broken
* Run broken link check on local build and fix broken **internal** links
* Pull Request to compare **main** with **gh-pages**
* Approvals process with changes
* Merge to **gh-pages**

## Github action

At this point, a GitHub action takes over which can be monitored here:

https://github.com/FeatureBaseDB/featurebase-docs/actions

Successful completion of the action deploys the changes to the production site at **docs.featurebase.com**
